function Adianti(){}function Template(){}function __adianti_set_name(t){Adianti.applicationName=t}function __adianti_init_tabs(t,i,a){Adianti.tabs={};Adianti.firstOpenTab=true;Adianti.useTabs=t;Adianti.storeTabs=i;Adianti.mdiWindows=a;Adianti.currentTab=null;if(Adianti.mdiWindows){setTimeout(function(){$("#adianti_content .adianti_tabs_container").addClass("mdi-windows")},0)}if(Adianti.useTabs&&Adianti.storeTabs){var e=JSON.parse(localStorage.getItem("__adianti_tabs_"+Adianti.applicationName));var n=localStorage.getItem("__adianti_current_tab_"+Adianti.applicationName);if(e){setTimeout(function(){$("#adianti_tab_content .adianti-tab").remove();if(n){Adianti.currentTab=n}for(var t of e){Adianti.tabs[t.name]={content:null,id:t.uniqid,name:t.name};__adianti_create_tab_item(t.uniqid,t.page,t.name,t.name==n)}},0);setTimeout(__adianti_scroll_to_active_tab,250)}}else{localStorage.removeItem("__adianti_tabs_"+Adianti.applicationName);localStorage.removeItem("__adianti_current_tab_"+Adianti.applicationName)}}function __adianti_clear_tabs(){Adianti.currentTab=null;Adianti.tabs={};localStorage.removeItem("__adianti_tabs_"+Adianti.applicationName);localStorage.removeItem("__adianti_current_tab_"+Adianti.applicationName)}function __adianti_scroll_tab(t){var i=150;if(t=="left"){i*=-1}var a=$("#adianti_tab_content").scrollLeft();$("#adianti_tab_content").animate({scrollLeft:a+i},250,"linear")}function __adianti_scroll_to_active_tab(){if($(".adianti-tab.active").length>0){$("#adianti_tab_content").scrollTo($(".adianti-tab.active"))}}function __adianti_load_tab(t,i){var a=__adianti_query_to_json(t);var e=a.adianti_tab_name??"*";var n=t.match("target_container=([0-z-]*)");var o=i.match('adianti_target_container\\s?=\\s?"([0-z-]*)"');if(!Adianti.useTabs||n||o){return}if(Adianti.currentTab==null){__adianti_set_current_tab(e)}if(t.indexOf("adianti_open_tab=1")>=0&&t.indexOf("adianti_reload_tab=1")==-1||Adianti.mdiWindows){__adianti_add_tab(t,e)}if(Adianti.storeTabs){t=t.replace("&adianti_reload_tab=1","");if(typeof Adianti.tabs[e]==="undefined"&&Adianti.useTabs&&Adianti.firstOpenTab){__adianti_set_current_tab(e);__adianti_add_tab(t,e)}}Adianti.firstOpenTab=false}function __adianti_create_tab_item(t,i,a,e){e=e?"active":"";$("#adianti_tab_content").append("<div onclick='__adianti_open_tab(\""+i+'","'+a+"\")' id='"+t+"' class='adianti-tab "+e+"'><span class='adianti-tab-name'>"+a+"</span> <i onclick='__adianti_close_tab(\""+a+"\", event); return false;' class='fas fa-times adianti-close-tab'></i> </div>")}function __adianti_set_current_tab(t){Adianti.currentTab=t;if(Adianti.storeTabs){localStorage.setItem("__adianti_current_tab_"+Adianti.applicationName,t)}}function __adianti_store_tab_content(t,i,a,e){Adianti.tabs[e]={content:a,id:i,name:e};if(Adianti.storeTabs){var n=JSON.parse(localStorage.getItem("__adianti_tabs_"+Adianti.applicationName));if(!n){n=[]}var o=n.filter(t=>t.name==e).length>0;if(!o){n.push({page:t,name:e,uniqid:i});localStorage.setItem("__adianti_tabs_"+Adianti.applicationName,JSON.stringify(n))}}}function __adianti_open_tab(t,i){if(Adianti.mdiWindows){if(Adianti.currentTab!=i){$("#adianti_tab_content").find(".adianti-tab").removeClass("active");$("#"+Adianti.tabs[i].id).addClass("active");if(!Adianti.tabs[i].content&&!Adianti.firstOpenTab){__adianti_load_page(t+"&adianti_reload_tab=1")}else if(Adianti.tabs[i].content&&!Adianti.tabs[i].content.is(":visible")){__adianti_show_iframe(i)}__adianti_register_state(t)}__adianti_set_active_iframe(i)}else if(Adianti.currentTab!=i){if(typeof Adianti.tabs[Adianti.currentTab]!="undefined"){Adianti.tabs[Adianti.currentTab].content=$("#adianti_div_content").children().detach()}$("#adianti_tab_content").find(".adianti-tab").removeClass("active");$("#"+Adianti.tabs[i].id).addClass("active");if(!Adianti.tabs[i].content){__adianti_load_page(t+"&adianti_reload_tab=1")}else{$("#adianti_div_content").html(Adianti.tabs[i].content);__adianti_register_state(t)}}__adianti_set_current_tab(i)}function __adianti_close_tab(i,t){if(typeof t!="undefined"){t.preventDefault();t.stopPropagation()}$("#"+Adianti.tabs[i].id).remove();if(Adianti.currentTab==i){$("#adianti_div_content").empty();let t=$("#adianti_tab_content").find(".adianti-tab-name");if(t.length>0){$(t[0]).click()}}if(Adianti.storeTabs){var a=JSON.parse(localStorage.getItem("__adianti_tabs_"+Adianti.applicationName));a=a.filter(t=>t.name!=i);localStorage.setItem("__adianti_tabs_"+Adianti.applicationName,JSON.stringify(a))}delete Adianti.tabs[i];if(Adianti.mdiWindows){__adianti_close_iframe(i)}}function __adianti_add_tab(i,a){if(typeof Adianti.tabs[a]=="undefined"){let t=parseInt(Math.random()*1e8);$("#adianti_tab_content").find(".adianti-tab").removeClass("active");__adianti_create_tab_item(t,i,a,true);__adianti_store_tab_content(i,t,null,a);if(typeof Adianti.tabs[Adianti.currentTab]!=="undefined"){if(Adianti.mdiWindows){Adianti.tabs[Adianti.currentTab].content=__adianti_get_iframe(Adianti.currentTab)}else{Adianti.tabs[Adianti.currentTab].content=$("#adianti_div_content").children().detach()}}if(Adianti.mdiWindows){Adianti.tabs[a].content=__adianti_get_iframe(a)}}else if(Adianti.currentTab!=a){__adianti_open_tab(i,a)}setTimeout(__adianti_scroll_to_active_tab,0);__adianti_set_current_tab(a)}function __adianti_set_language(t){Adianti.language=t}function __adianti_set_debug(t){Adianti.debug=t}function __adianti_run_after_loads(t,i){if(typeof Adianti.onAfterLoad=="function"){Adianti.onAfterLoad(t,i)}if(typeof Template.onAfterLoad=="function"){Template.onAfterLoad(t,i)}}function __adianti_run_after_posts(t,i){if(typeof Adianti.onAfterPost=="function"){Adianti.onAfterPost(t,i)}if(typeof Template.onAfterPost=="function"){Template.onAfterPost(t,i)}}function __adianti_run_before_loads(t){if(typeof Adianti.onBeforeLoad=="function"){Adianti.onBeforeLoad(t)}if(typeof Template.onBeforeLoad=="function"){Template.onBeforeLoad(t)}}function __adianti_run_before_posts(t){if(typeof Adianti.onBeforePost=="function"){Adianti.onBeforePost(t)}if(typeof Template.onBeforePost=="function"){Template.onBeforePost(t)}}function __adianti_failure_message(){if(Adianti.debug==1){if(Adianti.language=="pt"){return"Requisição falhou. Verifique a conexão com internet e os logs do servidor de aplicação"}return"Request failed. Check the internet connection and the application server logs"}else{if(Adianti.language=="pt"){return"Requisição falhou"}return"Request failed"}}function __adianti_failure_request(t,i,a){if(!t.responseText){__adianti_error("Error",i+": "+__adianti_failure_message())}else{$("#adianti_online_content").append(t.responseText)}}function __adianti_goto_page(t){window.location=t}function __adianti_base_url(){return window.location.protocol+"//"+window.location.host+window.location.pathname.split("/").slice(0,-1).join("/")}function __adianti_debounce(n,o,_){var d;return function(){var t=this,i=arguments;var a=function(){d=null;if(!_)n.apply(t,i)};var e=_&&!d;clearTimeout(d);d=setTimeout(a,o);if(e)n.apply(t,i)}}function __adianti_query_string(){var t={};var i=window.location.search.substring(1);var a=i.split("&");for(var e=0;e<a.length;e++){var n=a[e].split("=");if(typeof t[n[0]]==="undefined"){t[n[0]]=n[1]}else if(typeof t[n[0]]==="string"){var o=[t[n[0]],n[1]];t[n[0]]=o}else{t[n[0]].push(n[1])}}return t}function __adianti_query_to_json(t){var i=t.split("&");var a=Object();var e=function(t){if(typeof t!=="undefined"){return urldecode(t.replace(/\+/g," "))}return t};for(var n=0;n<i.length;n++){var o=i[n].split("=");if(o[0].search("\\[\\]")!==-1){o[0]=o[0].replace(/\[\]$/,"");if(typeof a[o[0]]==="undefined"){a[o[0]]=[e(o[1])]}else{a[o[0]].push(e(o[1]))}}else{a[o[0]]=e(o[1])}}return a}function __adianti_load_html(t,i,a){var e=a.match("target_container=([0-z-]*)");var n=t.match('adianti_target_container\\s?=\\s?"([0-z-]*)"');if(n!==null){var o=n[1];__adianti_load_side_content(o,t)}else if(e!==null){var o=e[1];__adianti_load_side_content(o,t)}else if(t.indexOf('widget="TWindow"')>0){__adianti_load_window_content(t)}else{if(typeof Adianti.onClearDOM=="function"){Adianti.onClearDOM()}$('[widget="TWindow"]').remove();$("#adianti_div_content").html(t)}if(typeof i=="function"){i(a,t)}}function __adianti_load_window_content(t){var i=t.match('window_name\\s?=\\s?"([0-z-]*)"');var a=i[1];if($("[window_name="+a+"]").length>0){$("[window_name="+a+"]").empty();$("[window_name="+a+"]").replaceWith(t)}else{$("#adianti_online_content").append(t)}}function __adianti_load_side_content(t,i){if(t=="adianti_right_panel"){var a=i.match('page_name\\s?=\\s?"([0-z-]*)"');if(a){var e=a[1]}if($("#adianti_right_panel").is(":visible")==false){$("#adianti_right_panel").html("")}if($("[page_name="+e+"]").length>0){$("[page_name="+e+"]").empty();$("[page_name="+e+"]").replaceWith(i)}else{$("#adianti_right_panel").append(i)}}else{$("#"+t).empty();$("#"+t).html(i)}}function __adianti_load_page_no_register(i){$.get(i).done(function(t){__adianti_load_html(t,null,i)}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_append_page(t,i){t=t.replace("engine.php?","");params_json=__adianti_query_to_json(t);uri="engine.php?"+"class="+params_json.class+"&method="+params_json.method+"&static="+(params_json.static=="1"?"1":"0");$.post(uri,params_json).done(function(t){if(t.indexOf('widget="TWindow"')>0){__adianti_load_window_content(t)}else{$("#adianti_online_content").after("<div></div>").html(t)}if(typeof i=="function"){i()}}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_get_iframe(t,i){var a=$("#iframe_wrapper"+btoa(t).replaceAll("=",""));if(typeof i==="undefined"){return a.closest(".ui-dialog")}return a}function __adianti_close_iframe(t,i){if(typeof i!="undefined"){i.preventDefault();i.stopPropagation()}__adianti_get_iframe(t,true).remove();__adianti_get_iframe(t).remove()}function __adianti_adjust_iframe(t){var i=null;var a=null;for(var e of Object.keys(Adianti.tabs)){if(t==e){continue}var n=Adianti.tabs[e];if(!n.content||!n.content.is(":visible")){continue}var o=n.content.css("z-index");if(!a||o>=a){a=o;i=e}}$("#adianti_tab_content").find(".adianti-tab").removeClass("active");if(i){__adianti_set_current_tab(i);$("#"+Adianti.tabs[i].id).addClass("active")}else{__adianti_set_current_tab(null)}}function __adianti_show_iframe(t){var i=__adianti_get_iframe(t);var a=__adianti_get_iframe(t,true);var e=a.dialog("option","width");var n=a.dialog("option","height");var o=i.css("left");var _=i.css("top");i.css({height:0,width:"20px",top:$(window).height()-50,left:"50%",display:"block"});i.animate({height:n,width:e,top:_,left:o},300,function(){})}function __adianti_minimize_iframe(t,i){if(typeof i!="undefined"){i.preventDefault();i.stopPropagation()}if(Adianti.currentTab==t){__adianti_adjust_iframe(t)}var a=__adianti_get_iframe(t);var e=__adianti_get_iframe(t,true);Adianti.tabs[t].content=a;var n=e.dialog("option","width");var o=e.dialog("option","height");var _=e.dialog("option","left");var d=e.dialog("option","top");a.animate({height:0,width:"20px",top:$(window).height()-50,left:"50%"},300,function(){a.hide();e.dialog("option","width",n);e.dialog("option","height",o);e.dialog("option","top",d);e.dialog("option","left",_)})}function __adianti_restore_iframe(t,i){if(typeof i!="undefined"){i.preventDefault();i.stopPropagation()}var a=__adianti_get_iframe(t,true);var e=Adianti.tabs[t].sizes;var n=e.width??$(window).width()*.75;var o=e.height??$(window).height()*.75;a.dialog("option","height",o);a.dialog("option","width",n);a.parent().css({top:e.top??"15%",left:e.left??"15%"});Adianti.tabs[t].sizes=null;a.closest(".ui-dialog").find("button[name=maximize]").show();a.closest(".ui-dialog").find("button[name=restore]").hide()}function __adianti_maximize_iframe(t,i){if(typeof i!="undefined"){i.preventDefault();i.stopPropagation()}var a=__adianti_get_iframe(t,true);var e=__adianti_get_iframe(t);Adianti.tabs[t].sizes={width:a.dialog("option","width"),height:a.dialog("option","height"),left:e.offset().left,top:e.offset().top};var n=$(window).width()-1;var o=$(window).height()-1;a.dialog("option","height",o);a.dialog("option","width",n);a.parent().css({top:"0",left:"0"});a.closest(".ui-dialog").find("button[name=maximize]").hide();a.closest(".ui-dialog").find("button[name=restore]").show()}function __adianti_set_active_iframe(t){var i=__adianti_get_iframe(t,true);i.dialog("moveToTop");if(t==Adianti.currentTab){return}__adianti_set_current_tab(t);$("#adianti_tab_content").find(".adianti-tab").removeClass("active");$("#"+Adianti.tabs[t].id).addClass("active")}function __adianti_goto_iframe(t){var i=__adianti_query_to_json(t);var a=i.adianti_tab_name??"*";var t=t+"&template=iframe";if(typeof Adianti.tabs[a]!=="undefined"&&Adianti.tabs[a].content){if(a==="*"){var e=__adianti_get_iframe(a);var n=e.find("#iframe_container").attr("src");if(n!=t){e.find("#iframe_container").attr("src",t)}else{__adianti_show_iframe(a)}}return}var e=$('<iframe id="iframe_container" src="'+t+'" frameborder="0"  width="100%" height="98%" allowfullscreen></iframe>');window_width=$(window).width()*.75;window_height=$(window).height()*.75;var o="iframe_wrapper"+btoa(a).replaceAll("=","");$("<div></div>").append(e).appendTo("body").dialog({autoOpen:true,modal:false,draggable:true,resizable:true,width:window_width,height:window_height,position:{my:"center center",at:"center"},title:a,zIndex:2e5}).attr("id",o);$(`#${o}`).parent().addClass("mdi_window");$(`#${o}`).parent().find(".ui-dialog-titlebar").find("button").remove();$(`#${o}`).parent().find(".ui-dialog-titlebar").append($(`<div class="d-flex" style="gap: 5px">
            <button name="minimize" class="btn btn-default" type="button"><i class="fas fa-window-minimize"></i></button>
            <button name="maximize" class="btn btn-default" type="button"><i class="far fa-window-maximize"></i></button>
            <button name="restore"  class="btn btn-default" type="button" style="display: none"><i class="far fa-window-restore"></i></button>
            <button name="close"    class="btn btn-danger"  type="button"><i class="fas fa-times"></i></button>
        </div>`));$(`#${o}`).parent().find(".ui-dialog-titlebar").parent().on("click",function(){__adianti_set_active_iframe(a)});$(`#${o}`).parent().find(".ui-dialog-titlebar").find("button[name=minimize]").on("click",function(t){__adianti_minimize_iframe(a,t)});$(`#${o}`).parent().find(".ui-dialog-titlebar").find("button[name=maximize]").on("click",function(t){__adianti_maximize_iframe(a,t)});$(`#${o}`).parent().find(".ui-dialog-titlebar").find("button[name=restore]").on("click",function(t){__adianti_restore_iframe(a,t)});$(`#${o}`).parent().find(".ui-dialog-titlebar").find("button[name=close]").on("click",function(){__adianti_close_tab(a)});if(Adianti.tabs[a]){Adianti.tabs[a].content=__adianti_get_iframe(a)}}function __adianti_can_open_iframe(t){if(Adianti.mdiWindows){if(t.indexOf("LoginForm&method=onLogout")!=-1||t.indexOf("LoginForm&method=reloadPermissions")!=-1){return false}return true}return false}function __adianti_load_page(i,a){if(typeof i!=="undefined"){$(".modal-backdrop").remove();var e=i;e=e.replace("index.php","engine.php");if(e.indexOf("engine.php")==-1){e="xhr-"+e}__adianti_run_before_loads(e);if(__adianti_can_open_iframe(e)){var t=e.replace("engine.php","index.php");Adianti.requestURL=t;Adianti.requestData=null;__adianti_goto_iframe(t);__adianti_load_tab(t,"");__adianti_run_after_loads(t,"")}else{if(e.indexOf("&static=1")>0||e.indexOf("?static=1")>0){$.get(e).done(function(t){Adianti.requestURL=e;Adianti.requestData=null;__adianti_load_tab(i,t);__adianti_parse_html(t);if(typeof a=="function"){a()}__adianti_run_after_loads(e,t)}).fail(function(t,i,a){__adianti_failure_request(t,i,a);loading=false})}else{$.get(e).done(function(t){Adianti.requestURL=e;Adianti.requestData=null;__adianti_load_tab(i,t);__adianti_load_html(t,__adianti_run_after_loads,e);if(typeof a=="function"){a()}if(e.indexOf("register_state=false")<0&&history.pushState&&t.indexOf('widget="TWindow"')<0){if(!Adianti.useTabs||!t.match('adianti_target_container\\s?=\\s?"([0-z-]*)"')){__adianti_register_state(e,"adianti");Adianti.currentURL=e}}}).fail(function(t,i,a){__adianti_failure_request(t,i,a);loading=false})}}}}function __adianti_block_ui(t){if(typeof $.blockUI=="function"){if(typeof Adianti.blockUIConter=="undefined"){Adianti.blockUIConter=0}Adianti.blockUIConter=Adianti.blockUIConter+1;if(typeof t=="undefined"){t=Adianti.waitMessage}$.blockUI({message:'<h1><i class="fa fa-spinner fa-pulse"></i> '+t+"</h1>",fadeIn:0,fadeOut:0,css:{border:"none",top:"100px",left:0,maxWidth:"300px",width:"inherit",padding:"15px",backgroundColor:"#000","border-radius":"5px 5px 5px 5px",opacity:.5,color:"#fff"}});$(".blockUI.blockMsg").mycenter()}}function __adianti_window(t,i,a,e){$("<div />").html(e).dialog({modal:true,title:t,width:i,height:a,resizable:true,closeOnEscape:true,close:function(t,i){$(this).remove()},focus:true})}function __adianti_window_page(t,i,a,e){if(i<2){i=$(window).width()*i}if(a<2){a=$(window).height()*a}$("<div />").append($("<iframe style='width:100%;height:97%' />").attr("src",e)).dialog({modal:true,title:t,width:i,height:a,resizable:false,closeOnEscape:true,close:function(t,i){$(this).remove()},focus:true})}function __adianti_dialog(t){if(t.type=="info"){var i=t.icon?t.icon:"fa fa-info-circle fa-4x blue"}else if(t.type=="warning"){var i=t.icon?t.icon:"fa fa-exclamation-triangle fa-4x orange"}else if(t.type=="error"){var i=t.icon?t.icon:"fa fa-exclamation-circle fa-4x red"}if(typeof bootbox=="object"){bootbox.dialog({title:t.title,animate:false,backdrop:true,onEscape:function(){if(typeof t.callback!="undefined"){t.callback()}},message:"<div>"+'<span class="'+i+'" style="float:left"></span>'+'<span style="margin-left:70px;display:block;max-height:500px">'+t.message+"</span>"+"</div>",buttons:{success:{label:"OK",className:"btn-default",callback:function(){if(typeof t.callback!="undefined"){t.callback()}}}}})}else{alert(t.message);if(typeof t.callback!="undefined"){t.callback()}}}function __adianti_error(t,i,a){__adianti_dialog({type:"error",title:t,message:i,callback:a})}function __adianti_message(t,i,a){__adianti_dialog({type:"info",title:t,message:i,callback:a})}function __adianti_warning(t,i,a){__adianti_dialog({type:"warning",title:t,message:i,callback:a})}function __adianti_question(t,i,a,e,n,o){if(typeof bootbox=="object"){bootbox.dialog({title:t,animate:false,message:"<div>"+'<span class="fa fa-question-circle fa-4x blue" style="float:left"></span>'+'<span style="margin-left:70px;display:block;max-height:500px">'+i+"</span>"+"</div>",buttons:{yes:{label:n,className:"btn-default",callback:function(){if(typeof a!="undefined"){a()}}},no:{label:o,className:"btn-default",callback:function(){if(typeof e!="undefined"){e()}}}}})}else{var _=confirm(i);if(_==true){if(typeof a!="undefined"){a()}}else{if(typeof e!="undefined"){e()}}}}function __adianti_input(t,i){if(typeof bootbox=="object"){bootbox.prompt(t,function(t){if(t!==null){i(t)}})}else{var a=prompt(t,"");i(a)}}function __adianti_show_toast64(t,i,a,e){__adianti_show_toast(t,atob(i),a,e)}function __adianti_show_toast(t,i,a,e){var a=a.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(t,i){if(+t===0)return"";return i==0?t.toLowerCase():t.toUpperCase()});var n={message:i,position:a};if(t=="show"){n["progressBarColor"]="rgb(0, 255, 184)";n["theme"]="dark"}if(typeof e!=="undefined"){var o=e.substring(0,3);if(["far","fas","fal","fad","fab"].includes(o)){n["icon"]=o+" fa-"+e.substring(4)}else{n["icon"]="fa "+e.replace(":","-")}}iziToast[t](n)}function __adianti_unblock_ui(t){if(typeof $.blockUI=="function"){if(typeof t=="undefined"){Adianti.blockUIConter=Adianti.blockUIConter-1;if(Adianti.blockUIConter<=0){$.unblockUI({fadeIn:0,fadeOut:0});Adianti.blockUIConter=0}}else if(t==true){$.unblockUI({fadeIn:0,fadeOut:0});Adianti.blockUIConter=0}}}function __adianti_post_data(t,i){if(i.substring(0,4)=="xhr-"){a=i}else{if(i.substring(0,5)=="class"){a="index.php?"+i;a=a.replace("index.php","engine.php")}else{var a="xhr-"+i}}if(document.querySelector("#"+t)instanceof Node){if(!document.querySelector("#"+t).hasAttribute("novalidate")&&document.querySelector("#"+t).checkValidity()==false){document.querySelector("#"+t).reportValidity();return}}__adianti_block_ui();data=$("#"+t).serialize();__adianti_run_before_posts(a);if(a.indexOf("&static=1")>0||a.indexOf("?static=1")>0||i.substring(0,4)=="xhr-"){$.post(a,data).done(function(t){__adianti_parse_html(t);__adianti_unblock_ui();Adianti.requestURL=a;Adianti.requestData=data;__adianti_run_after_posts(a,t)}).fail(function(t,i,a){__adianti_unblock_ui();__adianti_failure_request(t,i,a);loading=false})}else{$.post(a,data).done(function(t){Adianti.currentURL=a;Adianti.requestURL=a;Adianti.requestData=data;__adianti_load_html(t,__adianti_run_after_posts,a);__adianti_unblock_ui()}).fail(function(t,i,a){__adianti_unblock_ui();__adianti_failure_request(t,i,a);loading=false})}}function __adianti_register_state(t,i){if(Adianti.registerState!==false||i=="user"){var a={url:t};if(typeof history.pushState!="undefined"){history.pushState(a,"",t.replace("engine.php","index.php").replace("xhr-",""))}}}function __adianti_ajax_lookup(t,i){var a=i.value;__adianti_ajax_exec(t+"&key="+a+"&ajax_lookup=1",null)}function __adianti_ajax_exec(t,i,a){var e="engine.php?"+t+"&static=1";var a=typeof a==="undefined"?true:a;$.ajax({url:e}).done(function(t){if(a){__adianti_parse_html(t,i)}else{i(t)}}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_post_exec(t,i,a,e,n){var o="engine.php?"+t;var n=typeof n==="undefined"?false:n;if(typeof e!=="undefined"){var o="engine.php?"+t+"&static="+e}$.ajax({type:"POST",url:o,data:i}).done(function(t){if(n){__adianti_parse_html(t,a);__adianti_run_after_loads(o,t)}else if(a&&typeof a==="function"){return a(t)}}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_get_page(t,i,a){var e="engine.php?"+t+"&static=1";if(typeof a!=="undefined"){if(typeof a.static!=="undefined"){var e="engine.php?"+t+"&static="+a.static}}$.ajax({url:e,data:a}).done(function(t){return i(t)}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_post_lookup(t,i,a,e){if(typeof a=="string"){field_obj=$("#"+a)}else if(a instanceof HTMLElement){field_obj=$(a)}var n=$("#"+t).serializeArray();n.push({name:"_field_value",value:field_obj.val()});if(i.substring(0,5)=="class"){var o="engine.php?"+i+"&static=1"}else{var o="xhr-"+i+"&static=1"}n.push({name:"_field_id",value:field_obj.attr("id")});n.push({name:"_field_name",value:field_obj.attr("name")});n.push({name:"_form_name",value:t});n.push({name:"_field_data",value:$.param(field_obj.data(),true)});n.push({name:"_field_data_json",value:JSON.stringify(__adianti_query_to_json($.param(field_obj.data(),true)))});n.push({name:"key",value:field_obj.val()});n.push({name:"ajax_lookup",value:1});$.ajax({type:"POST",url:o,data:n}).done(function(t){__adianti_parse_html(t,e)}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_post_page_lookup(t,i,a,e){if(typeof a=="string"){field_obj=$("#"+a)}else if(a instanceof HTMLElement){field_obj=$(a)}var n=$("#"+t).serializeArray();n.push({name:"_field_value",value:field_obj.val()});if(i.substring(0,5)=="class"){var o="engine.php?"+i}else{var o="xhr-"+i}n.push({name:"_field_id",value:field_obj.attr("id")});n.push({name:"_field_name",value:field_obj.attr("name")});n.push({name:"_form_name",value:t});n.push({name:"_field_data",value:$.param(field_obj.data(),true)});n.push({name:"_field_data_json",value:JSON.stringify(__adianti_query_to_json($.param(field_obj.data(),true)))});n.push({name:"key",value:field_obj.val()});n.push({name:"ajax_lookup",value:1});$.ajax({type:"POST",url:o,data:n}).done(function(t){__adianti_load_html(t,e,o)}).fail(function(t,i,a){__adianti_failure_request(t,i,a)})}function __adianti_parse_html(t,i){tmp=t;tmp=new String(tmp.replace(/window\.opener\./g,""));tmp=new String(tmp.replace(/window\.close\(\)\;/g,""));tmp=new String(tmp.replace(/^\s+|\s+$/g,""));try{var a=t.match('adianti_target_container\\s?=\\s?"([0-z]*)"');if(a!==null){var e=a[1];$("#"+e).empty();$("#"+e).html(tmp)}else{$("#adianti_online_content").find("script").remove();$("#adianti_online_content").append(tmp)}if(i&&typeof i==="function"){i(t)}}catch(t){if(t instanceof Error){$("<div />").html(t.message+": "+tmp).dialog({modal:true,title:"Error",width:"80%",height:"auto",resizable:true,closeOnEscape:true,focus:true})}}}function __adianti_download_file(t,i){extension=t.split(".").pop();screenWidth=screen.width;screenHeight=screen.height;if(extension!=="html"){screenWidth/=3;screenHeight/=3}if(typeof i=="undefined"){i=""}window.open("download.php?file="+t+"&basename="+i,"_blank","width="+screenWidth+",height="+screenHeight+",top=0,left=0,status=yes,scrollbars=yes,toolbar=yes,resizable=yes,maximized=yes,menubar=yes,location=yes")}function __adianti_open_page(t){var i=window.open(t,"_blank");if(i){i.focus()}else{alert("Please allow popups for this website")}}function __adianti_process_popover(){var t=function(t,i){$element=$(i);var a=["auto","top","right","bottom","left"];if(typeof $element.attr("popside")==="undefined"||a.indexOf($element.attr("popside"))===-1){return"auto"}else{return $(i).attr("popside")}};var i=function(t,i){if(typeof $(this).attr("popaction")==="undefined"){if(typeof $(this).attr("popcontent64")!=="undefined"){return base64_decode($(this).attr("popcontent64"))}else{return $(this).attr("popcontent")||""}}else{var a=$(this);__adianti_get_page($(this).attr("popaction"),function(t){var i=a.attr("data-content",t).data("bs.popover");i.setContent();i.show()},{static:"0"});return'<i class="fa fa-spinner fa-spin fa-5x fa-fw"></i>'}};var a=function(){return $(this).attr("poptitle")||""};var e='<div class="popover" role="tooltip" style="max-width:800px"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>';$('[popover="true"]:not([poptrigger]):not([processed="true"])').popover({placement:t,trigger:"hover",container:"body",template:e,delay:{show:10,hide:10},content:i,html:true,title:a,sanitizeFn:function(t){return t}}).attr("processed",true);$('[popover="true"][poptrigger="click"]:not([processed="true"])').popover({placement:t,trigger:"click",container:"body",template:e,delay:{show:10,hide:10},content:i,sanitizeFn:function(t){return t},html:true,title:a}).on("shown.bs.popover",function(t){if(typeof $(this).attr("popaction")!=="undefined"){var a=$(this);__adianti_get_page($(this).attr("popaction"),function(t){var i=a.attr("data-content",t).data("bs.popover");i.setContent()},{static:"0"})}}).attr("processed",true)}function __adianti_show_popover(t,i,a,e,n){var o={trigger:"manual",title:i||"",html:true,content:a,placement:e,sanitizeFn:function(t){return t}};var _=o;if(typeof n!==undefined){var _=Object.assign(o,n)}if($(t).length>0&&$(t).css("visibility")=="visible"){$(t).popover(_).popover("show")}}$(function(){Adianti.blockUIConter=0;if(typeof $().tooltip=="function"){$(document.body).tooltip({selector:"[title]",placement:function(t,i){$element=$(i);var a=["auto","top","right","bottom","left"];if(typeof $element.attr("titside")==="undefined"||a.indexOf($element.attr("titside"))===-1){return"top"}else{return $(i).attr("titside")}},trigger:"hover",cssClass:"tooltip",container:"body",content:function(){return $(this).attr("title")},html:true})}if(typeof $().popover=="function"){$(document).on("dialogopen",function(){__adianti_process_popover()})}if(typeof jQuery.ui!=="undefined"){$.ui.dialog.prototype._focusTabbable=$.noop}});$(document).ajaxComplete(function(){if(typeof $().popover=="function"){__adianti_process_popover()}if(typeof $().DataTable=="function"){var t={responsive:true,paging:false,searching:false,ordering:false,info:false};if(typeof Adianti.language!=="undefined"){t["language"]={};t["language"]["url"]="lib/jquery/i18n/datatables/"+Adianti.language+".json"}$('table[datatable="true"]:not(.dataTable)').DataTable(t)}});$(document).ready(function(){$(document).on("click",'[generator="adianti"]',function(){__adianti_load_page($(this).attr("href"));return false});$("body").on("click",function(t){$(".tooltip.show").tooltip("hide");if(!$(t.target).is('[popover="true"]')&&!$(t.target).parents(".popover").length>0){if(!$(t.target).parents(".dropdown-menu").length>0){$(".popover").popover("hide")}}})});window.onpopstate=function(t){if(t.state){__adianti_load_page_no_register(t.state.url)}};$.fn.mycenter=function(){this.css("position","absolute");this.css("top",($(window).height()-this.outerHeight())/2+$(window).scrollTop()+"px");this.css("left",($(window).width()-this.outerWidth())/2+$(window).scrollLeft()+"px");return this};
